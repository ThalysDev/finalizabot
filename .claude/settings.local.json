{
  "permissions": {
    "allow": [
      "Bash(scripts/run-sync.ps1 << 'EOFSCRIPT'\n# ============================================================================\n# FinalizaBOT - Script de Sincroniza√ß√£o Local\n# ============================================================================\n# Este script executa a pipeline de sync completa \\(Ingest ‚Üí Bridge ‚Üí Images\\)\n# com op√ß√µes configur√°veis para desenvolvimento e produ√ß√£o.\n#\n# Uso:\n#   .\\\\scripts\\\\run-sync.ps1                    # Sync completo \\(modo padr√£o\\)\n#   .\\\\scripts\\\\run-sync.ps1 -FastMode          # Modo r√°pido \\(dev\\)\n#   .\\\\scripts\\\\run-sync.ps1 -SkipImages        # Pula download de imagens\n#   .\\\\scripts\\\\run-sync.ps1 -FastMode -SkipImages  # Combinado\n#\n# ============================================================================\n\nparam\\(\n    [switch]$SkipImages = $false,\n    [switch]$FastMode = $false,\n    [switch]$Verbose = $false\n\\)\n\nWrite-Host \"\"\nWrite-Host \"üöÄ FinalizaBOT - Pipeline de Sincroniza√ß√£o\" -ForegroundColor Cyan\nWrite-Host \"=\" -ForegroundColor Cyan\n\n# Configurar perfil de performance\nif \\($FastMode\\) {\n    $env:SYNC_CONCURRENCY = \"5\"\n    $env:SYNC_DELAY_SCALE = \"0.5\"\n    $env:SYNC_PHASE2_DAYS = \"7\"\n    $env:SKIP_IMAGE_SYNC = \"true\"\n    Write-Host \"‚ö° Modo R√°pido Ativado\" -ForegroundColor Yellow\n}\n\n# Criar diret√≥rio de logs\n$timestamp = Get-Date -Format \"yyyy-MM-dd_HH-mm-ss\"\n$logFile = \"logs/sync-$timestamp.log\"\nNew-Item -ItemType Directory -Force -Path \"logs\" | Out-Null\n\ntry {\n    Write-Host \"`nüì• Fase 1: ETL Ingest...\" -ForegroundColor Green\n    npm run sync 2>&1 | Tee-Object -FilePath $logFile -Append\n    if \\($LASTEXITCODE -ne 0\\) { throw \"Ingest falhou\" }\n\n    Write-Host \"`nüåâ Fase 2: Bridge sync...\" -ForegroundColor Green\n    npm run sync:bridge 2>&1 | Tee-Object -FilePath $logFile -Append\n    if \\($LASTEXITCODE -ne 0\\) { throw \"Bridge falhou\" }\n\n    if \\(-not $SkipImages -and -not $FastMode\\) {\n        Write-Host \"`nüñºÔ∏è Fase 3: Image sync...\" -ForegroundColor Green\n        npm run sync:images 2>&1 | Tee-Object -FilePath $logFile -Append\n    }\n\n    Write-Host \"`n‚úÖ Sincroniza√ß√£o conclu√≠da com sucesso!\" -ForegroundColor Green\n    Write-Host \"üìÑ Logs salvos em: $logFile\" -ForegroundColor Cyan\n\n} catch {\n    Write-Host \"`n‚ùå Erro: $_\" -ForegroundColor Red\n    Write-Host \"üìÑ Ver logs em: $logFile\" -ForegroundColor Yellow\n    exit 1\n}\nEOFSCRIPT)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(gh run list:*)",
      "Bash(git remote:*)",
      "Bash(ls:*)",
      "Bash(npm run db:migrate:*)",
      "Bash(test:*)",
      "Bash(npx prisma migrate dev:*)",
      "Bash($env:DATABASE_URL=\"postgresql://neondb_owner:npg_PYt4yzKJ0ZBA@ep-calm-truth-acw8ebln-pooler.sa-east-1.aws.neon.tech/neondb?sslmode=require\")",
      "Bash($env:DATABASE_URL_UNPOOLED=\"postgresql://neondb_owner:npg_PYt4yzKJ0ZBA@ep-calm-truth-acw8ebln.sa-east-1.aws.neon.tech/neondb?sslmode=require\")"
    ]
  }
}
